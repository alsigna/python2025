# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞

- [–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞](#—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–∫–æ–¥–∞)
  - [Black](#black)
    - [–û–ø–∏—Å–∞–Ω–∏–µ](#–æ–ø–∏—Å–∞–Ω–∏–µ)
    - [–ù–∞—Å—Ç—Ä–æ–π–∫–∞](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
    - [–û—Ç–∫–ª—é—á–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è](#–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ-—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
    - [IDE](#ide)
  - [Ruff](#ruff)
    - [–û–ø–∏—Å–∞–Ω–∏–µ](#–æ–ø–∏—Å–∞–Ω–∏–µ-1)
    - [–ù–∞—Å—Ç—Ä–æ–π–∫–∞](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-1)
    - [–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫](#–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–æ—à–∏–±–æ–∫)
    - [–û—Ç–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª](#–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ-–ø—Ä–∞–≤–∏–ª)
    - [IDE](#ide-1)
  - [–ß–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –∫–æ–¥–∞](#—á–∏—Ç–∞–µ–º–æ—Å—Ç–∏-–∫–æ–¥–∞)
  - [wemake-python-styleguide](#wemake-python-styleguide)
    - [–û–ø–∏—Å–∞–Ω–∏–µ](#–æ–ø–∏—Å–∞–Ω–∏–µ-2)
    - [–ù–∞—Å—Ç—Ä–æ–π–∫–∞](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-2)
    - [–û—Ç–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª](#–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ-–ø—Ä–∞–≤–∏–ª-1)

## Black

### –û–ø–∏—Å–∞–Ω–∏–µ

[Black](https://black.readthedocs.io/) ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è python –∫–æ–¥–∞. –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è - —Å—Ç—Ä–æ–≥–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –∏ –º–∏–Ω–∏–º—É–º –Ω–∞—Å—Ç—Ä–æ–µ–∫. –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –¥–∞–µ—Ç –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π –∏ —á–∏—Ç–∞–µ–º—ã–π –∫–æ–¥, –∞ —Ç–∞–∫ –∂–µ —Å–æ–∫—Ä–∞—â–∞–µ—Ç —Ä–∞–∑–Ω–æ–≥–ª–∞—Å–∏—è –æ —Å—Ç–∏–ª–µ –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–∞–Ω–¥—ã.

–ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å IDE / CICD / Git —Ö—É–∫–∞–º–∏. –ú–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ `pyproject.toml`.

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∏–∑ PyPi: `pip install black` / `poetry add --dev black`.

–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã:

```bash
$ black \
  --line-length 120 \
  --check \
  --diff \
  main.py

--- main.py    2025-05-20 10:49:44.026557 +0000
+++ main.py    2025-05-20 10:50:33.282912 +0000
@@ -1,3 +1,3 @@
-def example( a :int, b:int):
+def example(a: int, b: int):
     # —Å—É–º–º–∞ —á–∏—Å–µ–ª
-    return a+b
+    return a + b
would reformat main.txt

Oh no! üí• üíî üí•
1 file would be reformatted.
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–ö–æ–Ω—Ü–µ–ø—Ü–∏—è black - –º–∏–Ω–∏–º—É–º —Å–≤–æ–±–æ–¥—ã, –ø–æ—ç—Ç–æ–º—É –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫—Ä–∞–π–Ω–µ –º–∞–ª–æ, –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–ª–µ–∑–Ω–∞—è - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –¥–ª–∏–Ω—ã —Å—Ç—Ä–æ–∫–∏. –î–∞–ª–µ–µ –∑–∞–ø—É—Å–∫ —É—Ç–∏–ª–∏—Ç—ã –º–æ–∂–Ω–æ –ø—Ä–æ–ø–∏—Å–∞—Ç—å –≤ makefile –∏ cicd.

- `pyproject.toml`

  ```toml
  [tool.black]
  line-length = 120
  ```

- makefile:

  ```makefile
  .PHONY: lint
  lint:
      poetry run black --check .
  ```

- ci-cd:

  ```yaml
  jobs:
    <job-name>:
      steps:
          ...
        - name: lint
          run: make lint
          ...
  ```

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- `# fmt: off` / `# fmt: on` - –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç–∫–ª—é—á–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–ª–æ–∫–∞ –∫–æ–¥–∞
- `# fmt: skip` - –æ—Ç–∫–ª—é—á–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞

```python
# fmt: off
if (
    a == 1
    and b == 2
    and c == 3
):
    print('done')
# fmt: on

print('done') # fmt: skip
```

### IDE

–î–ª—è PyCharm –Ω—É–∂–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –ø–∞–∫–µ—Ç black –∏ –≤–∫–ª—é—á–∏—Ç—å –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö. –î–ª—è VSCode black –∏–¥–µ—Ç –≤ —Å–æ—Å—Ç–∞–≤–µ –ø–∞–∫–µ—Ç–∞ –ø–æ —Ä–∞–±–æ—Ç–µ —Å Python. –ë–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–µ–µ –≤ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏](https://black.readthedocs.io/en/stable/integrations/editors.html).

## Ruff

### –û–ø–∏—Å–∞–Ω–∏–µ

[Ruff](https://docs.astral.sh/ruff/) - —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ª–∏–Ω—Ç–∏–Ω–≥–∞ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è python –∫–æ–¥–∞. –ù–∞–ø–∏—Å–∞–Ω –Ω–∞ rust, –ø–æ—ç—Ç–æ–º—É —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –±—ã—Å—Ç—Ä–µ–µ –∞–Ω–∞–ª–æ–≥–æ–≤ (flake8, pylint).

–°–æ–≤–º–µ—Å—Ç–∏–º —Å IDE (—á–µ—Ä–µ–∑ –ø–ª–∞–≥–∏–Ω—ã), CICD, Git —Ö—É–∫–∞–º–∏. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ —Å black, –ø–æ—ç—Ç–æ–º—É –æ–±–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ, –ª–∏–±–æ black –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ ruff format.

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∏–∑ PyPi: `pip install ruff` / `poetry add --dev ruff`.

- `ruff check .` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ (–ª–∏–Ω—Ç–∏–Ω–≥)
- `ruff format .` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞

```shell
$ poetry run ruff check main.py
main.py:2:5: F841 Local variable `f` is assigned to but never used
  |
1 | def concat(a: str, b: str) -> str:
2 |     f = "test"
  |     ^ F841
3 |     return a + b
  |
  = help: Remove assignment to unused variable `f`

Found 1 error.
No fixes available (1 hidden fix can be enabled with the `--unsafe-fixes` option).
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–ö–∞–∫ –∏ –≤ —Å–ª—É—á–∞–µ —Å black, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ `pyproject.toml` —Ñ–∞–π–ª–µ. –î–∞–ª–µ–µ –∑–∞–ø—É—Å–∫ —É—Ç–∏–ª–∏—Ç—ã –º–æ–∂–Ω–æ –ø—Ä–æ–ø–∏—Å–∞—Ç—å –≤ makefile –∏ cicd.

- `pyproject.toml`

  ```toml
  [tool.ruff]
  # https://docs.astral.sh/ruff/settings
  extend-exclude = ["__init__.py"]
  line-length = 120
  lint.pydocstyle.convention = "google"
  lint.select = [
      "N",    # pep8-naming
      "B",    # flake8-bugbear
      "A",    # flake8-builtins
      "E",    # pycodestyle.error
      "W",    # pycodestyle.warning
      "F",    # pyflakes
      "S",    # flake8-bandit
      "D",    # pydocstyle
      "I",    # isort
      "C90",  # maccabe
      "C4",   # flake8-comprehensions
      "COM",  # flake8-commas
      "DTZ",  # flake8-datetimez
      "ERA",  # flake8-eradicate
      "SLOT", # flake8-slots
  ]
  lint.ignore = [
      "D100",   # Missing docstring in public module
      "D101",   # Missing docstring in public class
      "D102",   # Missing docstring in public method
      "D103",   # Missing docstring in public function
      "D105",   # Missing docstring in magic method
      "D106",   # Missing docstring in public nested class
      "D107",   # Missing docstring in `__init__`
      "S101",   # Use of `assert` detected
      "S311",   # Standard pseudo-random generators are not suitable for cryptographic purposes
      "ERA001", # Remove commented-out code
  ]
  ```

- makefile:

  ```makefile
  .PHONY: lint
  lint:
      poetry run ruff check .
  ```

- cicd:

  ```yaml
  jobs:
    <job-name>:
      steps:
          ...
        - name: lint
          run: make lint
          ...
  ```

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫

Ruff –º–æ–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –æ—à–∏–±–∫–∏, –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å –∫–ª—é—á–æ–º `--fix`. –í –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è `--unsafe-fixes`, –Ω–æ —Ç–∞–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–≥—É—Ç –≤–ª–∏—è—Ç—å –Ω–∞ –∫–æ–¥.

```bash
$ ruff check main.py --unsafe-fixes --fix
Found 1 error (1 fixed, 0 remaining).
```

–ú–æ–∂–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–º–ø–æ—Ä—Ç—ã:

```bash
$ ruff check main.py --fix --select I
Found 1 error (1 fixed, 0 remaining).
```

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª

- `# ruff: noqa` –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞ –æ—Ç–∫–ª—é—á–∞–µ—Ç –µ–≥–æ –ø—Ä–æ–≤–µ—Ä–∫—É —Ü–µ–ª–∏–∫–æ–º
- `# ruff: noqa: F401, F841` –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞ –æ—Ç–∫–ª—é—á–∞–µ—Ç –µ–≥–æ –ø—Ä–æ–≤–µ—Ä–∫—É –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
- `# noqa` –≤ –∫–æ–Ω—Ü–µ —Å—Ç—Ä–æ–∫–∏ –æ—Ç–∫–ª—é—á–∞–µ—Ç –µ–µ –ø—Ä–æ–≤–µ—Ä–∫—É
- `# noqa: F401, E501` –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç—Ä–æ–∫–∏ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª

```python
import io  # noqa: F401
```

### IDE

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å IDE —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ –≤–∏–¥–µ –ø–ª–∞–≥–∏–Ω–æ–≤

- [VSCode](https://marketplace.visualstudio.com/items?itemName=charliermarsh.ruff)
- [PyCharm](https://plugins.jetbrains.com/plugin/20574-ruff)

## –ß–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –∫–æ–¥–∞

–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å —ç—Ç–æ –≤–∞–∂–Ω–∞—è —á–∞—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –ª–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å, —Å–Ω–∏–∂–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ –∏ —É—Å–∫–æ—Ä—è–µ—Ç —Ä–∞–±–æ—Ç—É. –î–ª—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ü–µ–Ω–∫–∏ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –æ—á–µ–Ω—å –º–Ω–æ–≥–æ –º–µ—Ç—Ä–∏–∫, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –∫–∞–∫ –º–∏–Ω–∏–º—É–º –Ω–∞ –¥–≤–µ –±–æ–ª—å—à–∏–µ –≥—Ä—É–ø–ø—ã.

- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏
  - –¶–∏–∫–ª–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å (Cyclomatic Complexity)
  - –ö–æ–≥–Ω–∏—Ç–∏–≤–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å (Cognitive Complexity)
  - –ò–Ω–¥–µ–∫—Å —É–¥–æ–±–æ—á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ (Readability Index)
  - –ò–Ω–¥–µ–∫—Å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç–∏ (Maintainability Index)
  - –ò–Ω–¥–µ–∫—Å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –î–∂–æ–Ω—Å–∞ (Jones Complexity)
  - –ì–ª—É–±–∏–Ω–∞ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ (Nesting Depth)
- –°—É–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
  - –°—Ç–∏–ª—å –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
  - –°–æ–±–ª—é–¥–µ–Ω–∏–µ PEP8
  - –ù–∞–ª–∏—á–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–Ω—Ç–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —è–∑—ã–∫–æ–≤—ã—Ö –∏–¥–∏–æ–º

–°—É–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ü–µ–Ω–∏—Ç—å, –Ω–µ–∫–æ—Ç–æ—Ä–∞—è —á–∞—Å—Ç—å –ø–æ–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª–∞–º–∏ –ª–∏–Ω—Ç–µ—Ä–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–ª–∏ —á–∞—Å—Ç–∏—á–Ω–æ. –ù–∞–ø—Ä–∏–º–µ—Ä —Å—Ç–∏–ª—å –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö: –º–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏ –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –æ–¥–Ω–æ–±—É–∫–≤–µ–Ω–Ω—ã–µ –∏–º–µ–Ω–∞ (a, b, c), –Ω–æ –Ω–µ–ª—å–∑—è/—Å–ª–æ–∂–Ω–æ –∑–∞–ø—Ä–µ—Ç–∏—Ç—å —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—é (zakaz –≤–º–µ—Å—Ç–æ order). –°—É–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–∞–ª—å—à–µ –Ω–µ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç—Å—è.

–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è —Å —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è —Å –Ω–µ–∫–∏–º–∏ –ø–æ—Ä–æ–≥–∞–º–∏.

- **–¶–∏–∫–ª–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**. –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –ø—É—Ç–µ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–∞ —Ñ—É–Ω–∫—Ü–∏–∏. –ì—Ä—É–±–æ –≥–æ–≤–æ—Ä—è, —á–µ–º –±–æ–ª—å—à–µ —É—Å–ª–æ–≤–∏–π, —Ç–µ–º –±–æ–ª—å—à–µ –≤–µ—Ç–æ–∫ –ø–æ –∫–æ—Ç–æ—Ä—ã–º –º–æ–∂–µ—Ç –ø–æ–π—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏. –ê–∫—Ü–µ–Ω—Ç –Ω–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º –ø—É—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞.
- **–ö–æ–≥–Ω–∏—Ç–∏–≤–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**. –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Å–∫–æ–ª—å–∫–æ —Å–ª–æ–∂–Ω–æ —á–µ–ª–æ–≤–µ–∫—É –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –∫–æ–¥, —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å, —É—Å–ª–æ–≤–∏—è, —Ü–∏–∫–ª—ã, —Ç–µ—Ä–Ω–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –∏ –ø—Ä. –ê–∫—Ü–µ–Ω—Ç –Ω–∞ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å, –∞ –Ω–µ –Ω–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º –ø—É—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞.
- **–ò–Ω–¥–µ–∫—Å —É–¥–æ–±–æ—á–∏—Ç–∞–µ–º–æ—Å—Ç–∏**. –û—Ç—Ä–∞–∂–∞–µ—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ –ª–µ–≥–∫–æ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—Ç—å –∫–æ–¥ –∫–∞–∫ —Ç–µ–∫—Å—Ç. –ó–∞—á–∞—Å—Ç—É—é –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –¥–ª–∏–Ω–µ —Å—Ç—Ä–æ–∫, –∏–º–µ–Ω–∞—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö.
- **–ò–Ω–¥–µ–∫—Å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç–∏**. –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥—Ä—É–≥–∏—Ö –æ—Ü–µ–Ω–æ–∫, –æ–±—ä–µ–º–∞ –∫–æ–¥–∞, –Ω–∞–ª–∏—á–∏—è –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.
- **–ò–Ω–¥–µ–∫—Å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –î–∂–æ–Ω—Å–∞**. –£—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –∏ –∏—Ö —É—Ä–æ–≤–Ω–∏ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–∞ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–∞ –ª–æ–≥–∏–∫–æ–π.
- **–ì–ª—É–±–∏–Ω–∞ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏**. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ —É—Å–ª–æ–≤–∏–π/—Ü–∏–∫–ª–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, if –≤–Ω—É—Ç—Ä–∏ for –≤–Ω—É—Ç—Ä–∏ if).

–î–ª—è –æ—Ü–µ–Ω–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç—Ä–∏–∫ —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã:

| –ú–µ—Ç—Ä–∏–∫–∞ | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ—Ü–µ–Ω–∫–∏ |
| - | - |
| –¶–∏–∫–ª–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å | Ruff, McCabe, radon cc, pylint, WPS |
| –ö–æ–≥–Ω–∏—Ç–∏–≤–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å | SonarQube, WPS |
| –ò–Ω–¥–µ–∫—Å —É–¥–æ–±–æ—á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ | radon hal |
| –ò–Ω–¥–µ–∫—Å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç–∏ | radon mi, WPS |
| –ò–Ω–¥–µ–∫—Å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –î–∂–æ–Ω—Å–∞ | WPS |
| –ì–ª—É–±–∏–Ω–∞ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ | WPS, pylint |

–°—Å—ã–ª–∫–∏:

- WPS - [wemake-python-styleguide](https://github.com/wemake-services/wemake-python-styleguide)
- [Radon](https://github.com/rubik/radon)
- [Ruff](https://github.com/astral-sh/ruff)
- [Pylint](https://github.com/pylint-dev/pylint)
- [McCabe](https://github.com/PyCQA/mccabe)
- [SonarQube](https://www.sonarsource.com/products/sonarqube/)
- <https://habr.com/ru/companies/oleg-bunin/articles/433480/>
- <https://1c-syntax.github.io/bsl-language-server/diagnostics/CognitiveComplexity/>
- <https://sobolevn.me/2019/10/complexity-waterfall>

## wemake-python-styleguide

### –û–ø–∏—Å–∞–Ω–∏–µ

–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∏ —Å—Ç—Ä–æ–≥–∏–π –ª–∏–Ω—Ç–µ—Ä –¥–ª—è Python, –ø–æ—Å—Ç–∞–≤–ª—è–µ–º—ã–π –∫–∞–∫ –ø–ª–∞–≥–∏–Ω –∫ flake8. –û–Ω –¥–æ–±–∞–≤–ª—è–µ—Ç –±–æ–ª—å—à–æ–µ —á–∏—Å–ª–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∏–ª—å –∫–æ–¥–∞, –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã, —Å–ª–æ–∂–Ω–æ—Å—Ç—å, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –¥—Ä—É–≥–∏–µ –∞—Å–ø–µ–∫—Ç—ã.

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∏–∑ PyPi `pip install flake8 wemake-python-styleguide`. (—ç—Ç–æ –ø–ª–∞–≥–∏–Ω –¥–ª—è flake8, –ø–æ—ç—Ç–æ–º—É –∫—Ä–æ–º–µ –Ω–µ–≥–æ –Ω—É–∂–µ–Ω –∏ —Å–∞–º flake8). –ï—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ poetry, —Ç–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å `flake8-pyproject`, —á—Ç–æ –±—ã flake8 —Å–º–æ–≥ –±—Ä–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ pyproject —Ñ–∞–π–ª–∞:

```shell
poetry add flake8 flake8-pyproject
poetry add wemake-python-styleguide --python ">=3.11,<4.0"
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è —Å —Å–µ–∫—Ü–∏–∏ `[tool.flake8]`. –ö–∞–∫ –∏ –¥—Ä—É–≥–∏–µ —É—Ç–∏–ª–∏—Ç—ã, –∑–∞–ø—É—Å–∫ –º–æ–∂–Ω–æ –ø—Ä–æ–ø–∏—Å–∞—Ç—å –≤ makefile –∏ cicd.

- `pyproject.toml`

  ```toml
  [tool.flake8]
  # https://wemake-python-styleguide.readthedocs.io/en/latest/pages/usage/violations/index.html
  exclude = ["venv", ".venv", ".git", "__pycache__"]
  select = "WPS"
  ignore = [
      "WPS421", # Found wrong function call: {}
      "WPS102", # Found incorrect module name pattern
      "WPS1",   # –∏–ª–∏ –≤—Å—é –≥—Ä—É–ø–ø—É WPS1xx —Ü–µ–ª–∏–∫–æ–º
  ]
  per-file-ignores = [
      "03.output_collect.py:WPS221,WPS407", # –æ—Ç–∫–ª—é—á–∞–µ–º –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ñ–∞–π–ª–∞
  ]
  max-jones-score = 10 # WPS200
  max-line-complexity = 10 # WPS221
  max-cognitive-score = 10 # WPS231
  allowed-domain-names = [ # –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–µ–±—è –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å
      "value",
      "data",
      "item",
  ]
  ```

- makefile:

  ```makefile
  .PHONY: lint
  lint:
      poetry run flake8 .
  ```

- cicd:

  ```yaml
  jobs:
    <job-name>:
      steps:
          ...
        - name: lint
          run: make lint
          ...
  ```

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª

–û–±—â–∏–π —Å–ø–æ—Å–æ–± –¥–ª—è `# noqa: WPS407`.
